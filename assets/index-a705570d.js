var St=Object.defineProperty;var At=(t,e,n)=>e in t?St(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var re=(t,e,n)=>(At(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function j(){}function R(t,e){for(const n in e)t[n]=e[n];return t}function Ve(t){return t()}function Te(){return Object.create(null)}function le(t){t.forEach(Ve)}function ze(t){return typeof t=="function"}function N(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function It(t){return Object.keys(t).length===0}function De(t,e,n,r){if(t){const s=Xe(t,e,n,r);return t[0](s)}}function Xe(t,e,n,r){return t[1]&&r?R(n.ctx.slice(),t[1](r(e))):n.ctx}function Ye(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const l=[],o=Math.max(e.dirty.length,s.length);for(let i=0;i<o;i+=1)l[i]=e.dirty[i]|s[i];return l}return e.dirty|s}return e.dirty}function Ge(t,e,n,r,s,l){if(s){const o=Xe(e,n,r,l);t.p(o,s)}}function Ue(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function G(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Pe(t){return t??""}function zt(t){return t&&ze(t.destroy)?t.destroy:j}function y(t,e){t.appendChild(e)}function K(t,e,n){t.insertBefore(e,n||null)}function P(t){t.parentNode&&t.parentNode.removeChild(t)}function Et(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function C(t){return document.createElement(t)}function ee(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ee(t){return document.createTextNode(t)}function H(){return Ee(" ")}function Rt(){return Ee("")}function _(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function jt(t){return Array.from(t.childNodes)}function Ft(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Tt(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}let ye;function be(t){ye=t}function Be(){if(!ye)throw new Error("Function called outside component initialization");return ye}function Pt(t){Be().$$.on_mount.push(t)}function xe(t){Be().$$.on_destroy.push(t)}function qt(t,e){return Be().$$.context.set(t,e),e}function Kt(t){return Be().$$.context.get(t)}function b(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const he=[],Ce=[],ke=[],qe=[],Ot=Promise.resolve();let Se=!1;function Ht(){Se||(Se=!0,Ot.then(Je))}function Ae(t){ke.push(t)}const Le=new Set;let fe=0;function Je(){if(fe!==0)return;const t=ye;do{try{for(;fe<he.length;){const e=he[fe];fe++,be(e),Nt(e.$$)}}catch(e){throw he.length=0,fe=0,e}for(be(null),he.length=0,fe=0;Ce.length;)Ce.pop()();for(let e=0;e<ke.length;e+=1){const n=ke[e];Le.has(n)||(Le.add(n),n())}ke.length=0}while(he.length);for(;qe.length;)qe.pop()();Se=!1,Le.clear(),be(t)}function Nt(t){if(t.fragment!==null){t.update(),le(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ae)}}const Me=new Set;let ae;function Vt(){ae={r:0,c:[],p:ae}}function Dt(){ae.r||le(ae.c),ae=ae.p}function B(t,e){t&&t.i&&(Me.delete(t),t.i(e))}function L(t,e,n,r){if(t&&t.o){if(Me.has(t))return;Me.add(t),ae.c.push(()=>{Me.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function se(t,e){const n={},r={},s={$$scope:1};let l=t.length;for(;l--;){const o=t[l],i=e[l];if(i){for(const u in o)u in i||(r[u]=1);for(const u in i)s[u]||(n[u]=i[u],s[u]=1);t[l]=i}else for(const u in o)s[u]=1}for(const o in r)o in n||(n[o]=void 0);return n}function oe(t){return typeof t=="object"&&t!==null?t:{}}function I(t){t&&t.c()}function S(t,e,n,r){const{fragment:s,after_update:l}=t.$$;s&&s.m(e,n),r||Ae(()=>{const o=t.$$.on_mount.map(Ve).filter(ze);t.$$.on_destroy?t.$$.on_destroy.push(...o):le(o),t.$$.on_mount=[]}),l.forEach(Ae)}function A(t,e){const n=t.$$;n.fragment!==null&&(le(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Xt(t,e){t.$$.dirty[0]===-1&&(he.push(t),Ht(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function D(t,e,n,r,s,l,o,i=[-1]){const u=ye;be(t);const a=t.$$={fragment:null,ctx:[],props:l,update:j,not_equal:s,bound:Te(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Te(),dirty:i,skip_bound:!1,root:e.target||u.$$.root};o&&o(a.root);let p=!1;if(a.ctx=n?n(t,e.props||{},(f,g,...h)=>{const v=h.length?h[0]:g;return a.ctx&&s(a.ctx[f],a.ctx[f]=v)&&(!a.skip_bound&&a.bound[f]&&a.bound[f](v),p&&Xt(t,f)),g}):[],a.update(),p=!0,le(a.before_update),a.fragment=r?r(a.ctx):!1,e.target){if(e.hydrate){const f=jt(e.target);a.fragment&&a.fragment.l(f),f.forEach(P)}else a.fragment&&a.fragment.c();e.intro&&B(t.$$.fragment),S(t,e.target,e.anchor,e.customElement),Je()}be(u)}class X{$destroy(){A(this,1),this.$destroy=j}$on(e,n){if(!ze(n))return j;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!It(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const de=[];function $e(t,e=j){let n;const r=new Set;function s(i){if(N(t,i)&&(t=i,n)){const u=!de.length;for(const a of r)a[1](),de.push(a,t);if(u){for(let a=0;a<de.length;a+=2)de[a][0](de[a+1]);de.length=0}}}function l(i){s(i(t))}function o(i,u=j){const a=[i,u];return r.add(a),r.size===1&&(n=e(s)||j),i(t),()=>{r.delete(a),r.size===0&&(n(),n=null)}}return{set:s,update:l,subscribe:o}}const Q=$e([Array.from({length:16},()=>Array.from({length:16},()=>-1))]),te=$e(0),ge=["rgb(0, 0, 0)","rgb(255, 255, 255)","rgb(255, 255, 0)","rgb(255, 165, 0)","rgb(255, 0, 0)","rgb(255, 0, 255)","rgb(128, 0, 128)","rgb(0, 0, 255)","rgb(0, 200, 255)","rgb(0, 230, 0)","rgb(34, 139, 34)","rgb(128, 0, 0)","rgb(210, 180, 140)","rgb(180, 180, 180)","rgb(128, 128, 128)","rgb(47, 79, 79)"],we=$e(0),ve=$e(1),Ie=$e("pencil");function Yt(t){let e,n,r,s;return{c(){e=C("div"),n=C("button"),n.textContent="Export",m(e,"id","actionbar")},m(l,o){K(l,e,o),y(e,n),r||(s=_(n,"click",t[0]),r=!0)},p:j,i:j,o:j,d(l){l&&P(e),r=!1,s()}}}function Gt(t){var e=document.createElement("textarea");e.value=t,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{var n=document.execCommand("copy"),r=n?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+r)}catch(s){console.error("Fallback: Oops, unable to copy",s)}document.body.removeChild(e)}function Ke(t){if(!navigator.clipboard){Gt(t);return}navigator.clipboard.writeText(t).then(function(){console.log("Async: Copying to clipboard was successful!")},function(e){console.error("Async: Could not copy text: ",e)})}function Ut(t){let e=[[]];Q.subscribe(l=>{e=l});const n=l=>{let o=`public static final Image ${l} = new Image(new byte[][] {
`;for(let i=0;i<e[0].length;i++){for(let u=0;u<e[0][i].length;u+=2){u==0&&(o+="{");let a=Math.max(0,e[0][i][u]),p=Math.max(0,e[0][i][u+1]);a==0&&p==0?o+="0":o+="(byte)"+(a<<4|p).toString(),u>=e[0][i].length-2?o+="}":o+=", "}i==e[0].length-1?o+=`
});`:o+=`,
`}return o},r=l=>{let o=`public static final Animation ${l} = new Animation(Arrays.asList(
`;for(let i=0;i<e.length;i++){let u=e[i];o+=`new Image(new byte[][] {
`;for(let a=0;a<u.length;a++){for(let p=0;p<u[a].length;p++)p==0&&(o+="{"),o+=u[a][p]==-1?"0":u[a][p],p==u[a].length-1?o+="}":o+=", ";a==u.length-1?(o+=`
})
`,i<e.length-1&&(o+=",")):o+=`,
`}}return o+="));",o};return[l=>{let o=prompt(`Enter a name for the ${e.length>1?"animation":"image"}:`);e.length>1?Ke(r(o)):Ke(n(o))}]}class xt extends X{constructor(e){super(),D(this,e,Ut,Yt,N,{})}}function Oe(t){let e,n;return{c(){e=ee("title"),n=Ee(t[0])},m(r,s){K(r,e,s),y(e,n)},p(r,s){s&1&&Ft(n,r[0])},d(r){r&&P(e)}}}function Jt(t){let e,n,r,s=t[0]&&Oe(t);const l=t[3].default,o=De(l,t,t[2],null);return{c(){e=ee("svg"),s&&s.c(),n=Rt(),o&&o.c(),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox",t[1]),m(e,"class","svelte-c8tyih")},m(i,u){K(i,e,u),s&&s.m(e,null),y(e,n),o&&o.m(e,null),r=!0},p(i,[u]){i[0]?s?s.p(i,u):(s=Oe(i),s.c(),s.m(e,n)):s&&(s.d(1),s=null),o&&o.p&&(!r||u&4)&&Ge(o,l,i,i[2],r?Ye(l,i[2],u,null):Ue(i[2]),null),(!r||u&2)&&m(e,"viewBox",i[1])},i(i){r||(B(o,i),r=!0)},o(i){L(o,i),r=!1},d(i){i&&P(e),s&&s.d(),o&&o.d(i)}}}function Wt(t,e,n){let{$$slots:r={},$$scope:s}=e,{title:l=null}=e,{viewBox:o}=e;return t.$$set=i=>{"title"in i&&n(0,l=i.title),"viewBox"in i&&n(1,o=i.viewBox),"$$scope"in i&&n(2,s=i.$$scope)},[l,o,s,r]}class ie extends X{constructor(e){super(),D(this,e,Wt,Jt,N,{title:0,viewBox:1})}}function Qt(t){let e;return{c(){e=ee("path"),m(e,"d","M377.941 169.941V216H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.568 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296h243.882v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.568 0-33.941l-86.059-86.059c-15.119-15.12-40.971-4.412-40.971 16.97z")},m(n,r){K(n,e,r)},p:j,d(n){n&&P(e)}}}function Zt(t){let e,n;const r=[{viewBox:"0 0 512 512"},t[0]];let s={$$slots:{default:[Qt]},$$scope:{ctx:t}};for(let l=0;l<r.length;l+=1)s=R(s,r[l]);return e=new ie({props:s}),{c(){I(e.$$.fragment)},m(l,o){S(e,l,o),n=!0},p(l,[o]){const i=o&1?se(r,[r[0],oe(l[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(B(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){A(e,l)}}}function en(t,e,n){return t.$$set=r=>{n(0,e=R(R({},e),G(r)))},e=G(e),[e]}class tn extends X{constructor(e){super(),D(this,e,en,Zt,N,{})}}function nn(t){let e,n,r,s,l,o,i,u,a,p;return i=new tn({}),{c(){e=C("div"),n=C("div"),r=H(),s=C("div"),l=H(),o=C("div"),I(i.$$.fragment),m(n,"id","secondaryColor"),m(n,"class","svelte-1m95m65"),m(s,"id","primaryColor"),m(s,"class","svelte-1m95m65"),m(o,"id","switchArrow"),m(o,"class","svelte-1m95m65"),m(e,"id","container"),m(e,"class","svelte-1m95m65")},m(f,g){K(f,e,g),y(e,n),y(e,r),y(e,s),y(e,l),y(e,o),S(i,o,null),u=!0,a||(p=_(o,"click",t[0]),a=!0)},p:j,i(f){u||(B(i.$$.fragment,f),u=!0)},o(f){L(i.$$.fragment,f),u=!1},d(f){f&&P(e),A(i),a=!1,p()}}}function rn(t){let e=0,n=0;return window.onload=()=>{we.subscribe(s=>{e=s,document.getElementById("primaryColor").style.backgroundColor=ge[s]}),ve.subscribe(s=>{n=s,document.getElementById("secondaryColor").style.backgroundColor=ge[s]})},[()=>{let s=e;we.set(n),ve.set(s)}]}class ln extends X{constructor(e){super(),D(this,e,rn,nn,N,{})}}class sn{constructor(){re(this,"currentLayerId");re(this,"setups");re(this,"renderers");re(this,"needsSetup");re(this,"needsResize");re(this,"needsRedraw");re(this,"layerSequence");this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.resize=this.resize.bind(this),this.render=this.render.bind(this),this.currentLayerId=0,this.setups=new Map,this.renderers=new Map,this.needsSetup=!1,this.needsResize=!0,this.needsRedraw=!0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}resize(){this.needsResize=!0,this.needsRedraw=!0}register({setup:e,render:n}){return e&&(this.setups.set(this.currentLayerId,e),this.needsSetup=!0),this.renderers.set(this.currentLayerId,n),this.needsRedraw=!0,this.currentLayerId++}unregister(e){this.renderers.delete(e),this.needsRedraw=!0}render({autoclear:e,pixelRatio:n,context:r,width:s,height:l}){var i;const o={context:r,width:s,height:l};if(this.needsResize&&(r.setTransform(n,0,0,n,0,0),this.needsResize=!1),this.needsSetup){for(const[u,a]of this.setups)a(o),this.setups.delete(u);this.needsSetup=!1}if(this.needsRedraw){e&&r.clearRect(0,0,s,l);for(const u of this.layerSequence)(i=this.renderers.get(u))==null||i(o);this.needsRedraw=!1}}}function on(t){let e,n,r,s,l,o,i,u,a;const p=t[13].default,f=De(p,t,t[12],null);return{c(){e=C("canvas"),l=H(),o=C("div"),f&&f.c(),m(e,"style",n="display: block; width: "+t[1]+"px; height: "+t[2]+"px;"+(t[3]?` ${t[3]}`:"")),m(e,"width",r=t[1]*(t[0]??1)),m(e,"height",s=t[2]*(t[0]??1)),m(e,"class",t[4]),Tt(o,"display","none")},m(g,h){K(g,e,h),t[59](e),K(g,l,h),K(g,o,h),f&&f.m(o,null),t[60](o),i=!0,u||(a=[_(e,"focus",t[14]),_(e,"blur",t[15]),_(e,"fullscreenchange",t[16]),_(e,"fullscreenerror",t[17]),_(e,"scroll",t[18]),_(e,"cut",t[19]),_(e,"copy",t[20]),_(e,"paste",t[21]),_(e,"keydown",t[22]),_(e,"keypress",t[23]),_(e,"keyup",t[24]),_(e,"auxclick",t[25]),_(e,"click",t[26]),_(e,"contextmenu",t[27]),_(e,"dblclick",t[28]),_(e,"mousedown",t[29]),_(e,"mouseenter",t[30]),_(e,"mouseleave",t[31]),_(e,"mousemove",t[32]),_(e,"mouseover",t[33]),_(e,"mouseout",t[34]),_(e,"mouseup",t[35]),_(e,"select",t[36]),_(e,"wheel",t[37]),_(e,"drag",t[38]),_(e,"dragend",t[39]),_(e,"dragenter",t[40]),_(e,"dragstart",t[41]),_(e,"dragleave",t[42]),_(e,"dragover",t[43]),_(e,"drop",t[44]),_(e,"touchcancel",t[45]),_(e,"touchend",t[46]),_(e,"touchmove",t[47]),_(e,"touchstart",t[48]),_(e,"pointerover",t[49]),_(e,"pointerenter",t[50]),_(e,"pointerdown",t[51]),_(e,"pointermove",t[52]),_(e,"pointerup",t[53]),_(e,"pointercancel",t[54]),_(e,"pointerout",t[55]),_(e,"pointerleave",t[56]),_(e,"gotpointercapture",t[57]),_(e,"lostpointercapture",t[58])],u=!0)},p(g,h){(!i||h[0]&14&&n!==(n="display: block; width: "+g[1]+"px; height: "+g[2]+"px;"+(g[3]?` ${g[3]}`:"")))&&m(e,"style",n),(!i||h[0]&3&&r!==(r=g[1]*(g[0]??1)))&&m(e,"width",r),(!i||h[0]&5&&s!==(s=g[2]*(g[0]??1)))&&m(e,"height",s),(!i||h[0]&16)&&m(e,"class",g[4]),f&&f.p&&(!i||h[0]&4096)&&Ge(f,p,g,g[12],i?Ye(p,g[12],h,null):Ue(g[12]),null)},i(g){i||(B(f,g),i=!0)},o(g){L(f,g),i=!1},d(g){g&&P(e),t[59](null),g&&P(l),g&&P(o),f&&f.d(g),t[60](null),u=!1,le(a)}}}const We=Symbol(),cn=()=>Kt(We);function an(t,e,n){let{$$slots:r={},$$scope:s}=e,{width:l=640,height:o=640,pixelRatio:i=null,style:u="",autoclear:a=!0}=e,{class:p=""}=e,f,g=null,h,v,z;const E=new sn;function U(){E.redraw()}function J(){return f}function W(){return g}i==null&&(typeof window<"u"?i=window.devicePixelRatio:i=2);function Y(){E.render({context:g,width:l,height:o,pixelRatio:i,autoclear:a}),h=window.requestAnimationFrame(Y)}qt(We,{register:E.register,unregister:E.unregister,redraw:E.redraw}),Pt(()=>{g=f.getContext("2d"),z=new MutationObserver(c),z.observe(v,{childList:!0}),c(),Y();function c(){const Lt=[...v.children].map(Fe=>Fe instanceof HTMLElement?parseInt(Fe.dataset.layerId??"-1"):-1);n(11,E.layerSequence=Lt,E),E.redraw()}}),xe(()=>{typeof window>"u"||(window.cancelAnimationFrame(h),z.disconnect())});function d(c){b.call(this,t,c)}function w(c){b.call(this,t,c)}function k(c){b.call(this,t,c)}function M(c){b.call(this,t,c)}function T(c){b.call(this,t,c)}function q(c){b.call(this,t,c)}function x(c){b.call(this,t,c)}function O(c){b.call(this,t,c)}function V(c){b.call(this,t,c)}function Z(c){b.call(this,t,c)}function ne(c){b.call(this,t,c)}function ce(c){b.call(this,t,c)}function ue(c){b.call(this,t,c)}function F(c){b.call(this,t,c)}function me(c){b.call(this,t,c)}function $(c){b.call(this,t,c)}function pe(c){b.call(this,t,c)}function _e(c){b.call(this,t,c)}function Qe(c){b.call(this,t,c)}function Ze(c){b.call(this,t,c)}function et(c){b.call(this,t,c)}function tt(c){b.call(this,t,c)}function nt(c){b.call(this,t,c)}function rt(c){b.call(this,t,c)}function lt(c){b.call(this,t,c)}function st(c){b.call(this,t,c)}function ot(c){b.call(this,t,c)}function it(c){b.call(this,t,c)}function ct(c){b.call(this,t,c)}function at(c){b.call(this,t,c)}function ut(c){b.call(this,t,c)}function ft(c){b.call(this,t,c)}function dt(c){b.call(this,t,c)}function ht(c){b.call(this,t,c)}function gt(c){b.call(this,t,c)}function mt(c){b.call(this,t,c)}function pt(c){b.call(this,t,c)}function _t(c){b.call(this,t,c)}function bt(c){b.call(this,t,c)}function yt(c){b.call(this,t,c)}function wt(c){b.call(this,t,c)}function vt(c){b.call(this,t,c)}function $t(c){b.call(this,t,c)}function kt(c){b.call(this,t,c)}function Mt(c){b.call(this,t,c)}function Ct(c){Ce[c?"unshift":"push"](()=>{f=c,n(5,f)})}function Bt(c){Ce[c?"unshift":"push"](()=>{v=c,n(6,v)})}return t.$$set=c=>{"width"in c&&n(1,l=c.width),"height"in c&&n(2,o=c.height),"pixelRatio"in c&&n(0,i=c.pixelRatio),"style"in c&&n(3,u=c.style),"autoclear"in c&&n(7,a=c.autoclear),"class"in c&&n(4,p=c.class),"$$scope"in c&&n(12,s=c.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&2183&&E.resize()},[i,l,o,u,p,f,v,a,U,J,W,E,s,r,d,w,k,M,T,q,x,O,V,Z,ne,ce,ue,F,me,$,pe,_e,Qe,Ze,et,tt,nt,rt,lt,st,ot,it,ct,at,ut,ft,dt,ht,gt,mt,pt,_t,bt,yt,wt,vt,$t,kt,Mt,Ct,Bt]}class Re extends X{constructor(e){super(),D(this,e,an,on,N,{width:1,height:2,pixelRatio:0,style:3,autoclear:7,class:4,redraw:8,getCanvas:9,getContext:10},null,[-1,-1,-1])}get redraw(){return this.$$.ctx[8]}get getCanvas(){return this.$$.ctx[9]}get getContext(){return this.$$.ctx[10]}}function un(t){let e;return{c(){e=C("div"),m(e,"data-layer-id",t[0])},m(n,r){K(n,e,r)},p:j,i:j,o:j,d(n){n&&P(e)}}}function fn(t,e,n){const{register:r,unregister:s,redraw:l}=cn();let{setup:o=void 0}=e,{render:i=()=>{}}=e;const u=r({setup:o,render:i});return xe(()=>s(u)),t.$$set=a=>{"setup"in a&&n(1,o=a.setup),"render"in a&&n(2,i=a.render)},t.$$.update=()=>{t.$$.dirty&4&&l()},[u,o,i]}class je extends X{constructor(e){super(),D(this,e,fn,un,N,{setup:1,render:2})}}function dn(t){let e,n;return e=new je({props:{render:t[0]}}),{c(){I(e.$$.fragment)},m(r,s){S(e,r,s),n=!0},p(r,s){const l={};s&1&&(l.render=r[0]),e.$set(l)},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function hn(t){let e,n;return e=new Re({props:{width:640,height:20,$$slots:{default:[dn]},$$scope:{ctx:t}}}),e.$on("click",t[1]),{c(){I(e.$$.fragment)},m(r,s){S(e,r,s),n=!0},p(r,[s]){const l={};s&5&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function gn(t,e,n){let r;const s=l=>{let o=Math.floor(l.offsetX/40);l.shiftKey?ve.set(o):we.set(o)};return n(0,r=({context:l,width:o,height:i})=>{for(let u=0;u<ge.length;u++)l.fillStyle=ge[u],l.fillRect(u*40,0,40,20)}),[r,s]}class mn extends X{constructor(e){super(),D(this,e,gn,hn,N,{})}}function pn(t){let e,n;return e=new je({props:{render:t[0]}}),{c(){I(e.$$.fragment)},m(r,s){S(e,r,s),n=!0},p(r,s){const l={};s&1&&(l.render=r[0]),e.$set(l)},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function _n(t){let e,n;return e=new Re({props:{width:640,height:640,$$slots:{default:[pn]},$$scope:{ctx:t}}}),e.$on("click",t[1]),e.$on("mousemove",t[2]),e.$on("mousedown",t[3]),e.$on("mouseup",t[4]),{c(){I(e.$$.fragment)},m(r,s){S(e,r,s),n=!0},p(r,[s]){const l={};s&524289&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function bn(t,e,n){let r;const s=new URLSearchParams(window.location.search),l=s.has("grid")?JSON.parse(atob(s.get("grid"))):[];let o=[[]],i=0,u=0,a=15,p="pencil",f=-1,g=-1,h=[[]],v=-1,z=-1;if(l.length>0){if(l[0][0].length<15)for(let d=0;d<l.length;d++)for(let w=0;w<l[d].length;w++)for(let k=0;k<l[d][w].length;k++){let M=l[d][w][k];if(M<=0){l[d][w].splice(k+1,0,0),k+=1;continue}let T=M>>4,q=M&15;l[d][w][k]=T,l[d][w].splice(k+1,0,q),k+=1}Q.set(l)}te.subscribe(d=>{n(5,i=d)}),we.subscribe(d=>{u=d}),ve.subscribe(d=>{a=d}),Q.subscribe(d=>{o=d,n(6,h=d)}),Ie.subscribe(d=>{p=d});const E=d=>{let w=Math.floor(d.offsetX/40),k=Math.floor(d.offsetY/40);Q.update(M=>{switch(p){case"pencil":M[i][k][w]=d.shiftKey?a:u;break;case"eraser":M[i][k][w]=-1;break;case"fill":let T=M[i][k][w],q=d.shiftKey?a:u;if(T==q)break;let x=[[w,k]];for(;x.length>0;){let[O,V]=x.shift();M[i][V][O]==T&&(M[i][V][O]=q,O>0&&x.push([O-1,V]),O<M[i][0].length-1&&x.push([O+1,V]),V>0&&x.push([O,V-1]),V<M[i].length-1&&x.push([O,V+1]))}break;case"eyedropper":d.shiftKey?ve.set(M[i][k][w]):we.set(M[i][k][w]);break}return M})},U=d=>{let w=Math.floor(d.offsetX/40),k=Math.floor(d.offsetY/40);if(!(w==f&&k==g)){if(f=w,g=k,d.buttons==1)switch(p){case"pencil":d.shiftKey?Q.update($=>($[i][k][w]=a,$)):Q.update($=>($[i][k][w]=u,$));break;case"eraser":Q.update($=>($[i][k][w]=-1,$));break;case"line":n(6,h=o.map($=>$.slice()));let M=w-v,T=k-z,q=Math.max(Math.abs(M),Math.abs(T));for(let $=0;$<=q;$++){let pe=Math.round(v+M*$/q),_e=Math.round(z+T*$/q);n(6,h[i][_e][pe]=d.shiftKey?a:u,h)}break;case"rect":n(6,h=o.map($=>$.slice()));let x=Math.min(w,v),O=Math.max(w,v),V=Math.min(k,z),Z=Math.max(k,z);for(let $=x;$<=O;$++)n(6,h[i][V][$]=d.shiftKey?a:u,h),n(6,h[i][Z][$]=d.shiftKey?a:u,h);for(let $=V;$<=Z;$++)n(6,h[i][$][x]=d.shiftKey?a:u,h),n(6,h[i][$][O]=d.shiftKey?a:u,h);break;case"ellipse":n(6,h=o.map($=>$.slice()));let ne=Math.floor((v+w)/2),ce=Math.floor((z+k)/2),ue=Math.floor(Math.abs(v-w)/2),F=Math.floor(Math.abs(z-k)/2),me=d.shiftKey?a:u;for(let $=.1;$<=2*Math.PI;$+=.1){let pe=Math.floor(ne+ue*Math.cos($)),_e=Math.floor(ce+F*Math.sin($));n(6,h[i][_e][pe]=me,h)}break}Y()}},J=d=>{let w=Math.floor(d.offsetX/40),k=Math.floor(d.offsetY/40);switch(p){case"line":case"rect":case"ellipse":v=w,z=k;break}},W=d=>{switch(Math.floor(d.offsetX/40),Math.floor(d.offsetY/40),p){case"line":case"rect":case"ellipse":Q.set(h);break}v=-1,z=-1,Y()},Y=()=>{s.set("grid",btoa(JSON.stringify(o))),window.history.replaceState({},"",`${window.location.pathname}?${s.toString()}`)};return t.$$.update=()=>{t.$$.dirty&96&&n(0,r=({context:d,width:w,height:k})=>{for(let M=0;M<h[i].length;M++)for(let T=0;T<h[i][0].length;T++){let q=h[i][M][T];q<0?(T%2==0&&M%2==0||T%2==1&&M%2==1?d.fillStyle="white":d.fillStyle="lightGray",d.fillRect(T*40,M*40,40,40)):(d.fillStyle=ge[q],d.fillRect(T*40,M*40,40,40))}})},[r,E,U,J,W,i,h]}class yn extends X{constructor(e){super(),D(this,e,bn,_n,N,{})}}function He(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function wn(t){let e,n;return e=new je({props:{render:t[2]}}),{c(){I(e.$$.fragment)},m(r,s){S(e,r,s),n=!0},p(r,s){const l={};s&4&&(l.render=r[2]),e.$set(l)},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function Ne(t){let e,n,r,s;return n=new Re({props:{class:"frame-"+t[9],width:64,height:64,$$slots:{default:[wn]},$$scope:{ctx:t}}}),n.$on("click",t[4]),{c(){e=C("div"),I(n.$$.fragment),m(e,"class",r=Pe("frameWrapper"+(t[9]==t[1]?" selected":""))+" svelte-e588qx")},m(l,o){K(l,e,o),S(n,e,null),s=!0},p(l,o){const i={};o&1028&&(i.$$scope={dirty:o,ctx:l}),n.$set(i),(!s||o&2&&r!==(r=Pe("frameWrapper"+(l[9]==l[1]?" selected":""))+" svelte-e588qx"))&&m(e,"class",r)},i(l){s||(B(n.$$.fragment,l),s=!0)},o(l){L(n.$$.fragment,l),s=!1},d(l){l&&P(e),A(n)}}}function vn(t){let e,n,r,s,l,o,i,u=t[0],a=[];for(let f=0;f<u.length;f+=1)a[f]=Ne(He(t,u,f));const p=f=>L(a[f],1,1,()=>{a[f]=null});return{c(){e=C("main"),n=C("div");for(let f=0;f<a.length;f+=1)a[f].c();r=H(),s=C("button"),s.textContent="+",m(n,"id","wrapper"),m(n,"class","svelte-e588qx")},m(f,g){K(f,e,g),y(e,n);for(let h=0;h<a.length;h+=1)a[h].m(n,null);y(n,r),y(n,s),l=!0,o||(i=[_(window,"keydown",t[5]),_(s,"click",t[3])],o=!0)},p(f,[g]){if(g&23){u=f[0];let h;for(h=0;h<u.length;h+=1){const v=He(f,u,h);a[h]?(a[h].p(v,g),B(a[h],1)):(a[h]=Ne(v),a[h].c(),B(a[h],1),a[h].m(n,r))}for(Vt(),h=u.length;h<a.length;h+=1)p(h);Dt()}},i(f){if(!l){for(let g=0;g<u.length;g+=1)B(a[g]);l=!0}},o(f){a=a.filter(Boolean);for(let g=0;g<a.length;g+=1)L(a[g]);l=!1},d(f){f&&P(e),Et(a,f),o=!1,le(i)}}}function $n(t,e,n){let r,s=[[]],l=[[]],o=0;Q.subscribe(p=>{n(0,s=p),n(6,l=p)}),te.subscribe(p=>{n(1,o=p)});const i=()=>{s.push(Array.from({length:16},()=>Array.from({length:16},()=>-1))),Q.set(s),n(1,o=s.length-1),te.set(o)},u=p=>{let f=parseInt(p.target.classList[0].split("-")[1]);n(1,o=f),te.set(f)},a=p=>{switch(console.log(p),p.key){case"d":let f=s[o];Q.set(s.slice(0,o+1).concat([structuredClone(f)]).concat(l.slice(o+1))),te.set(o+1);break;case"Backspace":case"Delete":confirm("Are you sure you want to delete?")&&s.length>1&&(s.splice(o,1),Q.set(s),te.set(o-1));break;case"ArrowLeft":o>0&&te.set(o-1);break;case"ArrowRight":o<s.length-1&&te.set(o+1);break}};return t.$$.update=()=>{t.$$.dirty&64&&n(2,r=({context:p,width:f,height:g})=>{let h=parseInt(p.canvas.classList[0].split("-")[1]);for(let v=0;v<l[h].length;v++)for(let z=0;z<l[h][0].length;z++){let E=l[h][v][z];E<0?(z%2==0&&v%2==0||z%2==1&&v%2==1?p.fillStyle="white":p.fillStyle="lightGray",p.fillRect(z*4,v*4,4,4)):(p.fillStyle=ge[E],p.fillRect(z*4,v*4,4,4))}})},[s,o,r,i,u,a,l]}class kn extends X{constructor(e){super(),D(this,e,$n,vn,N,{})}}function Mn(t){let e;return{c(){e=ee("path"),m(e,"d","M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z")},m(n,r){K(n,e,r)},p:j,d(n){n&&P(e)}}}function Cn(t){let e,n;const r=[{viewBox:"0 0 512 512"},t[0]];let s={$$slots:{default:[Mn]},$$scope:{ctx:t}};for(let l=0;l<r.length;l+=1)s=R(s,r[l]);return e=new ie({props:s}),{c(){I(e.$$.fragment)},m(l,o){S(e,l,o),n=!0},p(l,[o]){const i=o&1?se(r,[r[0],oe(l[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(B(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){A(e,l)}}}function Bn(t,e,n){return t.$$set=r=>{n(0,e=R(R({},e),G(r)))},e=G(e),[e]}class Ln extends X{constructor(e){super(),D(this,e,Bn,Cn,N,{})}}function Sn(t){let e;return{c(){e=ee("path"),m(e,"d","M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z")},m(n,r){K(n,e,r)},p:j,d(n){n&&P(e)}}}function An(t){let e,n;const r=[{viewBox:"0 0 512 512"},t[0]];let s={$$slots:{default:[Sn]},$$scope:{ctx:t}};for(let l=0;l<r.length;l+=1)s=R(s,r[l]);return e=new ie({props:s}),{c(){I(e.$$.fragment)},m(l,o){S(e,l,o),n=!0},p(l,[o]){const i=o&1?se(r,[r[0],oe(l[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(B(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){A(e,l)}}}function In(t,e,n){return t.$$set=r=>{n(0,e=R(R({},e),G(r)))},e=G(e),[e]}class zn extends X{constructor(e){super(),D(this,e,In,An,N,{})}}function En(t){let e;return{c(){e=ee("path"),m(e,"d","M502.63 217.06L294.94 9.37C288.69 3.12 280.5 0 272.31 0s-16.38 3.12-22.62 9.37l-81.58 81.58L81.93 4.77c-6.24-6.25-16.38-6.25-22.62 0L36.69 27.38c-6.24 6.25-6.24 16.38 0 22.63l86.19 86.18-94.76 94.76c-37.49 37.49-37.49 98.26 0 135.75l117.19 117.19c18.75 18.74 43.31 28.12 67.87 28.12 24.57 0 49.13-9.37 67.88-28.12l221.57-221.57c12.49-12.5 12.49-32.76 0-45.26zm-116.22 70.97H65.93c1.36-3.84 3.57-7.98 7.43-11.83l13.15-13.15 81.61-81.61 58.61 58.6c12.49 12.49 32.75 12.49 45.24 0 12.49-12.49 12.49-32.75 0-45.24l-58.61-58.6 58.95-58.95 162.45 162.44-48.35 48.34z")},m(n,r){K(n,e,r)},p:j,d(n){n&&P(e)}}}function Rn(t){let e,n;const r=[{viewBox:"0 0 512 512"},t[0]];let s={$$slots:{default:[En]},$$scope:{ctx:t}};for(let l=0;l<r.length;l+=1)s=R(s,r[l]);return e=new ie({props:s}),{c(){I(e.$$.fragment)},m(l,o){S(e,l,o),n=!0},p(l,[o]){const i=o&1?se(r,[r[0],oe(l[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(B(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){A(e,l)}}}function jn(t,e,n){return t.$$set=r=>{n(0,e=R(R({},e),G(r)))},e=G(e),[e]}class Fn extends X{constructor(e){super(),D(this,e,jn,Rn,N,{})}}function Tn(t){let e;return{c(){e=ee("path"),m(e,"d","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V86c0-3.3 2.7-6 6-6h340c3.3 0 6 2.7 6 6v340c0 3.3-2.7 6-6 6z")},m(n,r){K(n,e,r)},p:j,d(n){n&&P(e)}}}function Pn(t){let e,n;const r=[{viewBox:"0 0 448 512"},t[0]];let s={$$slots:{default:[Tn]},$$scope:{ctx:t}};for(let l=0;l<r.length;l+=1)s=R(s,r[l]);return e=new ie({props:s}),{c(){I(e.$$.fragment)},m(l,o){S(e,l,o),n=!0},p(l,[o]){const i=o&1?se(r,[r[0],oe(l[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(B(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){A(e,l)}}}function qn(t,e,n){return t.$$set=r=>{n(0,e=R(R({},e),G(r)))},e=G(e),[e]}class Kn extends X{constructor(e){super(),D(this,e,qn,Pn,N,{})}}function On(t){let e;return{c(){e=ee("path"),m(e,"d","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200z")},m(n,r){K(n,e,r)},p:j,d(n){n&&P(e)}}}function Hn(t){let e,n;const r=[{viewBox:"0 0 512 512"},t[0]];let s={$$slots:{default:[On]},$$scope:{ctx:t}};for(let l=0;l<r.length;l+=1)s=R(s,r[l]);return e=new ie({props:s}),{c(){I(e.$$.fragment)},m(l,o){S(e,l,o),n=!0},p(l,[o]){const i=o&1?se(r,[r[0],oe(l[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(B(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){A(e,l)}}}function Nn(t,e,n){return t.$$set=r=>{n(0,e=R(R({},e),G(r)))},e=G(e),[e]}class Vn extends X{constructor(e){super(),D(this,e,Nn,Hn,N,{})}}function Dn(t){let e;return{c(){e=ee("path"),m(e,"d","M50.75 333.25c-12 12-18.75 28.28-18.75 45.26V424L0 480l32 32 56-32h45.49c16.97 0 33.25-6.74 45.25-18.74l126.64-126.62-128-128L50.75 333.25zM483.88 28.12c-37.47-37.5-98.28-37.5-135.75 0l-77.09 77.09-13.1-13.1c-9.44-9.44-24.65-9.31-33.94 0l-40.97 40.97c-9.37 9.37-9.37 24.57 0 33.94l161.94 161.94c9.44 9.44 24.65 9.31 33.94 0L419.88 288c9.37-9.37 9.37-24.57 0-33.94l-13.1-13.1 77.09-77.09c37.51-37.48 37.51-98.26.01-135.75z")},m(n,r){K(n,e,r)},p:j,d(n){n&&P(e)}}}function Xn(t){let e,n;const r=[{viewBox:"0 0 512 512"},t[0]];let s={$$slots:{default:[Dn]},$$scope:{ctx:t}};for(let l=0;l<r.length;l+=1)s=R(s,r[l]);return e=new ie({props:s}),{c(){I(e.$$.fragment)},m(l,o){S(e,l,o),n=!0},p(l,[o]){const i=o&1?se(r,[r[0],oe(l[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(B(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){A(e,l)}}}function Yn(t,e,n){return t.$$set=r=>{n(0,e=R(R({},e),G(r)))},e=G(e),[e]}class Gn extends X{constructor(e){super(),D(this,e,Yn,Xn,N,{})}}function Un(t){let e;return{c(){e=ee("path"),m(e,"d","M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z")},m(n,r){K(n,e,r)},p:j,d(n){n&&P(e)}}}function xn(t){let e,n;const r=[{viewBox:"0 0 448 512"},t[0]];let s={$$slots:{default:[Un]},$$scope:{ctx:t}};for(let l=0;l<r.length;l+=1)s=R(s,r[l]);return e=new ie({props:s}),{c(){I(e.$$.fragment)},m(l,o){S(e,l,o),n=!0},p(l,[o]){const i=o&1?se(r,[r[0],oe(l[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(B(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){A(e,l)}}}function Jn(t,e,n){return t.$$set=r=>{n(0,e=R(R({},e),G(r)))},e=G(e),[e]}class Wn extends X{constructor(e){super(),D(this,e,Jn,xn,N,{})}}function Qn(t){let e,n,r,s,l,o,i,u,a,p,f,g,h,v,z,E,U,J,W,Y,d,w,k,M,T,q,x,O,V,Z,ne,ce,ue;return s=new Ln({}),u=new zn({}),g=new Fn({}),J=new Kn({}),w=new Vn({}),q=new Gn({}),Z=new Wn({}),{c(){e=C("div"),n=C("button"),r=C("div"),I(s.$$.fragment),l=H(),o=C("button"),i=C("div"),I(u.$$.fragment),a=H(),p=C("button"),f=C("div"),I(g.$$.fragment),h=H(),v=C("button"),v.textContent="⟋",z=H(),E=C("button"),U=C("div"),I(J.$$.fragment),W=H(),Y=C("button"),d=C("div"),I(w.$$.fragment),k=H(),M=C("button"),T=C("div"),I(q.$$.fragment),x=H(),O=C("button"),V=C("div"),I(Z.$$.fragment),m(r,"class","buttonIcon svelte-1gdj7c8"),m(n,"id","pencil"),m(n,"class","toolButton active svelte-1gdj7c8"),m(i,"class","buttonIcon svelte-1gdj7c8"),m(o,"id","eraser"),m(o,"class","toolButton svelte-1gdj7c8"),m(f,"class","buttonIcon svelte-1gdj7c8"),m(p,"id","fill"),m(p,"class","toolButton svelte-1gdj7c8"),m(v,"id","line"),m(v,"class","toolButton svelte-1gdj7c8"),m(U,"class","buttonIcon svelte-1gdj7c8"),m(E,"id","rect"),m(E,"class","toolButton svelte-1gdj7c8"),m(d,"class","buttonIcon svelte-1gdj7c8"),m(Y,"id","ellipse"),m(Y,"class","toolButton svelte-1gdj7c8"),m(T,"class","buttonIcon svelte-1gdj7c8"),m(M,"id","eyedropper"),m(M,"class","toolButton svelte-1gdj7c8"),m(V,"class","buttonIcon svelte-1gdj7c8"),m(O,"id","clear"),m(O,"class","toolButton svelte-1gdj7c8"),m(e,"id","toolPicker"),m(e,"class","svelte-1gdj7c8")},m(F,me){K(F,e,me),y(e,n),y(n,r),S(s,r,null),y(e,l),y(e,o),y(o,i),S(u,i,null),y(e,a),y(e,p),y(p,f),S(g,f,null),y(e,h),y(e,v),y(e,z),y(e,E),y(E,U),S(J,U,null),y(e,W),y(e,Y),y(Y,d),S(w,d,null),y(e,k),y(e,M),y(M,T),S(q,T,null),y(e,x),y(e,O),y(O,V),S(Z,V,null),ne=!0,ce||(ue=[_(n,"click",t[1]),_(o,"click",t[1]),_(p,"click",t[1]),_(v,"click",t[1]),_(E,"click",t[1]),_(Y,"click",t[1]),_(M,"click",t[1]),zt(t[0].call(null,e))],ce=!0)},p:j,i(F){ne||(B(s.$$.fragment,F),B(u.$$.fragment,F),B(g.$$.fragment,F),B(J.$$.fragment,F),B(w.$$.fragment,F),B(q.$$.fragment,F),B(Z.$$.fragment,F),ne=!0)},o(F){L(s.$$.fragment,F),L(u.$$.fragment,F),L(g.$$.fragment,F),L(J.$$.fragment,F),L(w.$$.fragment,F),L(q.$$.fragment,F),L(Z.$$.fragment,F),ne=!1},d(F){F&&P(e),A(s),A(u),A(g),A(J),A(w),A(q),A(Z),ce=!1,le(ue)}}}const Zn=1e3;function er(t){let e=!1,n=null;const r=o=>{Ie.subscribe(u=>{document.getElementById("toolPicker").querySelectorAll(".active").forEach(a=>{a.classList.remove("active")}),document.getElementById(u).classList.add("active")});const i=document.getElementById("clear");i.onmousedown=()=>{e=!0,n=setTimeout(()=>{e&&(l(),e=!1)},Zn)},i.onmouseup=()=>{e=!1,clearTimeout(n)}},s=o=>{let i=o.target;for(;i.tagName!=="BUTTON";)i=i.parentElement;Ie.set(i.id)},l=o=>{Q.set([Array.from({length:16},()=>Array.from({length:16},()=>-1))]),te.set(0)};return[r,s]}class tr extends X{constructor(e){super(),D(this,e,er,Qn,N,{})}}function nr(t){let e,n,r,s,l,o,i,u,a,p,f,g,h,v,z,E,U,J,W,Y;return r=new xt({}),i=new kn({}),f=new yn({}),h=new mn({}),U=new tr({}),W=new ln({}),{c(){e=C("main"),n=C("div"),I(r.$$.fragment),s=H(),l=C("br"),o=H(),I(i.$$.fragment),u=H(),a=C("br"),p=H(),I(f.$$.fragment),g=H(),I(h.$$.fragment),v=H(),z=C("br"),E=H(),I(U.$$.fragment),J=H(),I(W.$$.fragment),m(n,"id","mainView"),m(e,"class","svelte-1mgv8eg")},m(d,w){K(d,e,w),y(e,n),S(r,n,null),y(n,s),y(n,l),y(n,o),S(i,n,null),y(n,u),y(n,a),y(n,p),S(f,n,null),y(n,g),S(h,n,null),y(n,v),y(n,z),y(n,E),S(U,n,null),y(e,J),S(W,e,null),Y=!0},p:j,i(d){Y||(B(r.$$.fragment,d),B(i.$$.fragment,d),B(f.$$.fragment,d),B(h.$$.fragment,d),B(U.$$.fragment,d),B(W.$$.fragment,d),Y=!0)},o(d){L(r.$$.fragment,d),L(i.$$.fragment,d),L(f.$$.fragment,d),L(h.$$.fragment,d),L(U.$$.fragment,d),L(W.$$.fragment,d),Y=!1},d(d){d&&P(e),A(r),A(i),A(f),A(h),A(U),A(W)}}}class rr extends X{constructor(e){super(),D(this,e,null,nr,N,{})}}new rr({target:document.getElementById("app")});
