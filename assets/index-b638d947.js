var kt=Object.defineProperty;var Mt=(t,e,n)=>e in t?kt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var te=(t,e,n)=>(Mt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function R(){}function A(t,e){for(const n in e)t[n]=e[n];return t}function Re(t){return t()}function Ee(){return Object.create(null)}function ue(t){t.forEach(Re)}function Be(t){return typeof t=="function"}function V(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ct(t){return Object.keys(t).length===0}function Te(t,e,n,r){if(t){const s=Fe(t,e,n,r);return t[0](s)}}function Fe(t,e,n,r){return t[1]&&r?A(n.ctx.slice(),t[1](r(e))):n.ctx}function Pe(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const l=[],o=Math.max(e.dirty.length,s.length);for(let i=0;i<o;i+=1)l[i]=e.dirty[i]|s[i];return l}return e.dirty|s}return e.dirty}function qe(t,e,n,r,s,l){if(s){const o=Fe(e,n,r,l);t.p(o,s)}}function He(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function Y(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Bt(t){return t&&Be(t.destroy)?t.destroy:R}function y(t,e){t.appendChild(e)}function O(t,e,n){t.insertBefore(e,n||null)}function q(t){t.parentNode&&t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function J(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ze(t){return document.createTextNode(t)}function X(){return ze(" ")}function zt(){return ze("")}function m(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function d(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Lt(t){return Array.from(t.childNodes)}function Et(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function It(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}let de;function fe(t){de=t}function ye(){if(!de)throw new Error("Function called outside component initialization");return de}function At(t){ye().$$.on_mount.push(t)}function Ke(t){ye().$$.on_destroy.push(t)}function St(t,e){return ye().$$.context.set(t,e),e}function Rt(t){return ye().$$.context.get(t)}function p(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const ae=[],be=[],pe=[],Ie=[],Tt=Promise.resolve();let ke=!1;function Ft(){ke||(ke=!0,Tt.then(Oe))}function Me(t){pe.push(t)}const $e=new Set;let ie=0;function Oe(){if(ie!==0)return;const t=de;do{try{for(;ie<ae.length;){const e=ae[ie];ie++,fe(e),Pt(e.$$)}}catch(e){throw ae.length=0,ie=0,e}for(fe(null),ae.length=0,ie=0;be.length;)be.pop()();for(let e=0;e<pe.length;e+=1){const n=pe[e];$e.has(n)||($e.add(n),n())}pe.length=0}while(ae.length);for(;Ie.length;)Ie.pop()();ke=!1,$e.clear(),fe(t)}function Pt(t){if(t.fragment!==null){t.update(),ue(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Me)}}const _e=new Set;let qt;function M(t,e){t&&t.i&&(_e.delete(t),t.i(e))}function C(t,e,n,r){if(t&&t.o){if(_e.has(t))return;_e.add(t),qt.c.push(()=>{_e.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function re(t,e){const n={},r={},s={$$scope:1};let l=t.length;for(;l--;){const o=t[l],i=e[l];if(i){for(const a in o)a in i||(r[a]=1);for(const a in i)s[a]||(n[a]=i[a],s[a]=1);t[l]=i}else for(const a in o)s[a]=1}for(const o in r)o in n||(n[o]=void 0);return n}function le(t){return typeof t=="object"&&t!==null?t:{}}function I(t){t&&t.c()}function B(t,e,n,r){const{fragment:s,after_update:l}=t.$$;s&&s.m(e,n),r||Me(()=>{const o=t.$$.on_mount.map(Re).filter(Be);t.$$.on_destroy?t.$$.on_destroy.push(...o):ue(o),t.$$.on_mount=[]}),l.forEach(Me)}function z(t,e){const n=t.$$;n.fragment!==null&&(ue(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ht(t,e){t.$$.dirty[0]===-1&&(ae.push(t),Ft(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function N(t,e,n,r,s,l,o,i=[-1]){const a=de;fe(t);const u=t.$$={fragment:null,ctx:[],props:l,update:R,not_equal:s,bound:Ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ee(),dirty:i,skip_bound:!1,root:e.target||a.$$.root};o&&o(u.root);let _=!1;if(u.ctx=n?n(t,e.props||{},(g,h,...k)=>{const T=k.length?k[0]:h;return u.ctx&&s(u.ctx[g],u.ctx[g]=T)&&(!u.skip_bound&&u.bound[g]&&u.bound[g](T),_&&Ht(t,g)),h}):[],u.update(),_=!0,ue(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const g=Lt(e.target);u.fragment&&u.fragment.l(g),g.forEach(q)}else u.fragment&&u.fragment.c();e.intro&&M(t.$$.fragment),B(t,e.target,e.anchor,e.customElement),Oe()}fe(a)}class j{$destroy(){z(this,1),this.$destroy=R}$on(e,n){if(!Be(n))return R;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!Ct(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ce=[];function we(t,e=R){let n;const r=new Set;function s(i){if(V(t,i)&&(t=i,n)){const a=!ce.length;for(const u of r)u[1](),ce.push(u,t);if(a){for(let u=0;u<ce.length;u+=2)ce[u][0](ce[u+1]);ce.length=0}}}function l(i){s(i(t))}function o(i,a=R){const u=[i,a];return r.add(u),r.size===1&&(n=e(s)||R),i(t),()=>{r.delete(u),r.size===0&&(n(),n=null)}}return{set:s,update:l,subscribe:o}}const ne=we(Array.from({length:16},()=>Array.from({length:16},()=>-1)));let Ae=15;const he=["rgb(0, 0, 0)","rgb(255, 255, 255)"].concat([...Array(Ae-1)].map((t,e)=>`hsl(${e*360/(Ae-1)}, 100%, 50%)`)),me=we(0),ge=we(1),Ce=we("pencil");function Kt(t){let e,n,r,s;return{c(){e=$("div"),n=$("button"),n.textContent="Export",d(e,"id","actionbar")},m(l,o){O(l,e,o),y(e,n),r||(s=m(n,"click",t[0]),r=!0)},p:R,i:R,o:R,d(l){l&&q(e),r=!1,s()}}}function Ot(t){var e=document.createElement("textarea");e.value=t,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{var n=document.execCommand("copy"),r=n?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+r)}catch(s){console.error("Fallback: Oops, unable to copy",s)}document.body.removeChild(e)}function Vt(t){if(!navigator.clipboard){Ot(t);return}navigator.clipboard.writeText(t).then(function(){console.log("Async: Copying to clipboard was successful!")},function(e){console.error("Async: Could not copy text: ",e)})}function Nt(t){let e=[];return ne.subscribe(r=>{e=r}),[r=>{console.log("exporting");let l=`public static final Image ${prompt("Enter a name for the file")} = new Image(new int[][] {
`;for(let o=0;o<e.length;o++){for(let i=0;i<e[o].length;i++)i==0&&(l+="{"),l+=e[o][i]==-1?"0":e[o][i],i==e[o].length-1?l+="}":l+=", ";o==e.length-1?l+=`
});`:l+=`,
`}Vt(l)}]}class jt extends j{constructor(e){super(),N(this,e,Nt,Kt,V,{})}}function Se(t){let e,n;return{c(){e=J("title"),n=ze(t[0])},m(r,s){O(r,e,s),y(e,n)},p(r,s){s&1&&Et(n,r[0])},d(r){r&&q(e)}}}function Xt(t){let e,n,r,s=t[0]&&Se(t);const l=t[3].default,o=Te(l,t,t[2],null);return{c(){e=J("svg"),s&&s.c(),n=zt(),o&&o.c(),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox",t[1]),d(e,"class","svelte-c8tyih")},m(i,a){O(i,e,a),s&&s.m(e,null),y(e,n),o&&o.m(e,null),r=!0},p(i,[a]){i[0]?s?s.p(i,a):(s=Se(i),s.c(),s.m(e,n)):s&&(s.d(1),s=null),o&&o.p&&(!r||a&4)&&qe(o,l,i,i[2],r?Pe(l,i[2],a,null):He(i[2]),null),(!r||a&2)&&d(e,"viewBox",i[1])},i(i){r||(M(o,i),r=!0)},o(i){C(o,i),r=!1},d(i){i&&q(e),s&&s.d(),o&&o.d(i)}}}function Yt(t,e,n){let{$$slots:r={},$$scope:s}=e,{title:l=null}=e,{viewBox:o}=e;return t.$$set=i=>{"title"in i&&n(0,l=i.title),"viewBox"in i&&n(1,o=i.viewBox),"$$scope"in i&&n(2,s=i.$$scope)},[l,o,s,r]}class se extends j{constructor(e){super(),N(this,e,Yt,Xt,V,{title:0,viewBox:1})}}function Dt(t){let e;return{c(){e=J("path"),d(e,"d","M377.941 169.941V216H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.568 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296h243.882v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.568 0-33.941l-86.059-86.059c-15.119-15.12-40.971-4.412-40.971 16.97z")},m(n,r){O(n,e,r)},p:R,d(n){n&&q(e)}}}function xt(t){let e,n;const r=[{viewBox:"0 0 512 512"},t[0]];let s={$$slots:{default:[Dt]},$$scope:{ctx:t}};for(let l=0;l<r.length;l+=1)s=A(s,r[l]);return e=new se({props:s}),{c(){I(e.$$.fragment)},m(l,o){B(e,l,o),n=!0},p(l,[o]){const i=o&1?re(r,[r[0],le(l[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(M(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function Ut(t,e,n){return t.$$set=r=>{n(0,e=A(A({},e),Y(r)))},e=Y(e),[e]}class Gt extends j{constructor(e){super(),N(this,e,Ut,xt,V,{})}}function Jt(t){let e,n,r,s,l,o,i,a,u,_;return i=new Gt({}),{c(){e=$("div"),n=$("div"),r=X(),s=$("div"),l=X(),o=$("div"),I(i.$$.fragment),d(n,"id","secondaryColor"),d(n,"class","svelte-1m95m65"),d(s,"id","primaryColor"),d(s,"class","svelte-1m95m65"),d(o,"id","switchArrow"),d(o,"class","svelte-1m95m65"),d(e,"id","container"),d(e,"class","svelte-1m95m65")},m(g,h){O(g,e,h),y(e,n),y(e,r),y(e,s),y(e,l),y(e,o),B(i,o,null),a=!0,u||(_=m(o,"click",t[0]),u=!0)},p:R,i(g){a||(M(i.$$.fragment,g),a=!0)},o(g){C(i.$$.fragment,g),a=!1},d(g){g&&q(e),z(i),u=!1,_()}}}function Qt(t){let e=0,n=0;return window.onload=()=>{me.subscribe(s=>{e=s,document.getElementById("primaryColor").style.backgroundColor=he[s]}),ge.subscribe(s=>{n=s,document.getElementById("secondaryColor").style.backgroundColor=he[s]})},[()=>{let s=e;me.set(n),ge.set(s)}]}class Wt extends j{constructor(e){super(),N(this,e,Qt,Jt,V,{})}}class Zt{constructor(){te(this,"currentLayerId");te(this,"setups");te(this,"renderers");te(this,"needsSetup");te(this,"needsResize");te(this,"needsRedraw");te(this,"layerSequence");this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.resize=this.resize.bind(this),this.render=this.render.bind(this),this.currentLayerId=0,this.setups=new Map,this.renderers=new Map,this.needsSetup=!1,this.needsResize=!0,this.needsRedraw=!0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}resize(){this.needsResize=!0,this.needsRedraw=!0}register({setup:e,render:n}){return e&&(this.setups.set(this.currentLayerId,e),this.needsSetup=!0),this.renderers.set(this.currentLayerId,n),this.needsRedraw=!0,this.currentLayerId++}unregister(e){this.renderers.delete(e),this.needsRedraw=!0}render({autoclear:e,pixelRatio:n,context:r,width:s,height:l}){var i;const o={context:r,width:s,height:l};if(this.needsResize&&(r.setTransform(n,0,0,n,0,0),this.needsResize=!1),this.needsSetup){for(const[a,u]of this.setups)u(o),this.setups.delete(a);this.needsSetup=!1}if(this.needsRedraw){e&&r.clearRect(0,0,s,l);for(const a of this.layerSequence)(i=this.renderers.get(a))==null||i(o);this.needsRedraw=!1}}}function en(t){let e,n,r,s,l,o,i,a,u;const _=t[13].default,g=Te(_,t,t[12],null);return{c(){e=$("canvas"),l=X(),o=$("div"),g&&g.c(),d(e,"style",n="display: block; width: "+t[1]+"px; height: "+t[2]+"px;"+(t[3]?` ${t[3]}`:"")),d(e,"width",r=t[1]*(t[0]??1)),d(e,"height",s=t[2]*(t[0]??1)),d(e,"class",t[4]),It(o,"display","none")},m(h,k){O(h,e,k),t[59](e),O(h,l,k),O(h,o,k),g&&g.m(o,null),t[60](o),i=!0,a||(u=[m(e,"focus",t[14]),m(e,"blur",t[15]),m(e,"fullscreenchange",t[16]),m(e,"fullscreenerror",t[17]),m(e,"scroll",t[18]),m(e,"cut",t[19]),m(e,"copy",t[20]),m(e,"paste",t[21]),m(e,"keydown",t[22]),m(e,"keypress",t[23]),m(e,"keyup",t[24]),m(e,"auxclick",t[25]),m(e,"click",t[26]),m(e,"contextmenu",t[27]),m(e,"dblclick",t[28]),m(e,"mousedown",t[29]),m(e,"mouseenter",t[30]),m(e,"mouseleave",t[31]),m(e,"mousemove",t[32]),m(e,"mouseover",t[33]),m(e,"mouseout",t[34]),m(e,"mouseup",t[35]),m(e,"select",t[36]),m(e,"wheel",t[37]),m(e,"drag",t[38]),m(e,"dragend",t[39]),m(e,"dragenter",t[40]),m(e,"dragstart",t[41]),m(e,"dragleave",t[42]),m(e,"dragover",t[43]),m(e,"drop",t[44]),m(e,"touchcancel",t[45]),m(e,"touchend",t[46]),m(e,"touchmove",t[47]),m(e,"touchstart",t[48]),m(e,"pointerover",t[49]),m(e,"pointerenter",t[50]),m(e,"pointerdown",t[51]),m(e,"pointermove",t[52]),m(e,"pointerup",t[53]),m(e,"pointercancel",t[54]),m(e,"pointerout",t[55]),m(e,"pointerleave",t[56]),m(e,"gotpointercapture",t[57]),m(e,"lostpointercapture",t[58])],a=!0)},p(h,k){(!i||k[0]&14&&n!==(n="display: block; width: "+h[1]+"px; height: "+h[2]+"px;"+(h[3]?` ${h[3]}`:"")))&&d(e,"style",n),(!i||k[0]&3&&r!==(r=h[1]*(h[0]??1)))&&d(e,"width",r),(!i||k[0]&5&&s!==(s=h[2]*(h[0]??1)))&&d(e,"height",s),(!i||k[0]&16)&&d(e,"class",h[4]),g&&g.p&&(!i||k[0]&4096)&&qe(g,_,h,h[12],i?Pe(_,h[12],k,null):He(h[12]),null)},i(h){i||(M(g,h),i=!0)},o(h){C(g,h),i=!1},d(h){h&&q(e),t[59](null),h&&q(l),h&&q(o),g&&g.d(h),t[60](null),a=!1,ue(u)}}}const Ve=Symbol(),tn=()=>Rt(Ve);function nn(t,e,n){let{$$slots:r={},$$scope:s}=e,{width:l=640,height:o=640,pixelRatio:i=null,style:a="",autoclear:u=!0}=e,{class:_=""}=e,g,h=null,k,T,D;const S=new Zt;function f(){S.redraw()}function w(){return g}function L(){return h}i==null&&(typeof window<"u"?i=window.devicePixelRatio:i=2);function v(){S.render({context:h,width:l,height:o,pixelRatio:i,autoclear:u}),k=window.requestAnimationFrame(v)}St(Ve,{register:S.register,unregister:S.unregister,redraw:S.redraw}),At(()=>{h=g.getContext("2d"),D=new MutationObserver(c),D.observe(T,{childList:!0}),c(),v();function c(){const $t=[...T.children].map(Le=>Le instanceof HTMLElement?parseInt(Le.dataset.layerId??"-1"):-1);n(11,S.layerSequence=$t,S),S.redraw()}}),Ke(()=>{typeof window>"u"||(window.cancelAnimationFrame(k),D.disconnect())});function F(c){p.call(this,t,c)}function H(c){p.call(this,t,c)}function x(c){p.call(this,t,c)}function P(c){p.call(this,t,c)}function K(c){p.call(this,t,c)}function U(c){p.call(this,t,c)}function oe(c){p.call(this,t,c)}function Q(c){p.call(this,t,c)}function W(c){p.call(this,t,c)}function G(c){p.call(this,t,c)}function Z(c){p.call(this,t,c)}function b(c){p.call(this,t,c)}function ee(c){p.call(this,t,c)}function E(c){p.call(this,t,c)}function ve(c){p.call(this,t,c)}function Xe(c){p.call(this,t,c)}function Ye(c){p.call(this,t,c)}function De(c){p.call(this,t,c)}function xe(c){p.call(this,t,c)}function Ue(c){p.call(this,t,c)}function Ge(c){p.call(this,t,c)}function Je(c){p.call(this,t,c)}function Qe(c){p.call(this,t,c)}function We(c){p.call(this,t,c)}function Ze(c){p.call(this,t,c)}function et(c){p.call(this,t,c)}function tt(c){p.call(this,t,c)}function nt(c){p.call(this,t,c)}function rt(c){p.call(this,t,c)}function lt(c){p.call(this,t,c)}function st(c){p.call(this,t,c)}function ot(c){p.call(this,t,c)}function it(c){p.call(this,t,c)}function ct(c){p.call(this,t,c)}function at(c){p.call(this,t,c)}function ut(c){p.call(this,t,c)}function ft(c){p.call(this,t,c)}function dt(c){p.call(this,t,c)}function ht(c){p.call(this,t,c)}function mt(c){p.call(this,t,c)}function gt(c){p.call(this,t,c)}function pt(c){p.call(this,t,c)}function _t(c){p.call(this,t,c)}function bt(c){p.call(this,t,c)}function yt(c){p.call(this,t,c)}function wt(c){be[c?"unshift":"push"](()=>{g=c,n(5,g)})}function vt(c){be[c?"unshift":"push"](()=>{T=c,n(6,T)})}return t.$$set=c=>{"width"in c&&n(1,l=c.width),"height"in c&&n(2,o=c.height),"pixelRatio"in c&&n(0,i=c.pixelRatio),"style"in c&&n(3,a=c.style),"autoclear"in c&&n(7,u=c.autoclear),"class"in c&&n(4,_=c.class),"$$scope"in c&&n(12,s=c.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&2183&&S.resize()},[i,l,o,a,_,g,T,u,f,w,L,S,s,r,F,H,x,P,K,U,oe,Q,W,G,Z,b,ee,E,ve,Xe,Ye,De,xe,Ue,Ge,Je,Qe,We,Ze,et,tt,nt,rt,lt,st,ot,it,ct,at,ut,ft,dt,ht,mt,gt,pt,_t,bt,yt,wt,vt]}class Ne extends j{constructor(e){super(),N(this,e,nn,en,V,{width:1,height:2,pixelRatio:0,style:3,autoclear:7,class:4,redraw:8,getCanvas:9,getContext:10},null,[-1,-1,-1])}get redraw(){return this.$$.ctx[8]}get getCanvas(){return this.$$.ctx[9]}get getContext(){return this.$$.ctx[10]}}function rn(t){let e;return{c(){e=$("div"),d(e,"data-layer-id",t[0])},m(n,r){O(n,e,r)},p:R,i:R,o:R,d(n){n&&q(e)}}}function ln(t,e,n){const{register:r,unregister:s,redraw:l}=tn();let{setup:o=void 0}=e,{render:i=()=>{}}=e;const a=r({setup:o,render:i});return Ke(()=>s(a)),t.$$set=u=>{"setup"in u&&n(1,o=u.setup),"render"in u&&n(2,i=u.render)},t.$$.update=()=>{t.$$.dirty&4&&l()},[a,o,i]}class je extends j{constructor(e){super(),N(this,e,ln,rn,V,{setup:1,render:2})}}function sn(t){let e,n;return e=new je({props:{render:t[0]}}),{c(){I(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p(r,s){const l={};s&1&&(l.render=r[0]),e.$set(l)},i(r){n||(M(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function on(t){let e,n;return e=new Ne({props:{width:640,height:20,$$slots:{default:[sn]},$$scope:{ctx:t}}}),e.$on("click",t[1]),{c(){I(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p(r,[s]){const l={};s&5&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(M(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function cn(t,e,n){let r;const s=l=>{let o=Math.floor(l.offsetX/40);l.shiftKey?ge.set(o):me.set(o)};return n(0,r=({context:l,width:o,height:i})=>{for(let a=0;a<he.length;a++)l.fillStyle=he[a],l.fillRect(a*40,0,40,20)}),[r,s]}class an extends j{constructor(e){super(),N(this,e,cn,on,V,{})}}function un(t){let e,n;return e=new je({props:{render:t[0]}}),{c(){I(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p(r,s){const l={};s&1&&(l.render=r[0]),e.$set(l)},i(r){n||(M(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function fn(t){let e,n;return e=new Ne({props:{width:640,height:640,$$slots:{default:[un]},$$scope:{ctx:t}}}),e.$on("click",t[1]),e.$on("mousemove",t[2]),e.$on("mousedown",t[3]),e.$on("mouseup",t[4]),{c(){I(e.$$.fragment)},m(r,s){B(e,r,s),n=!0},p(r,[s]){const l={};s&32769&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(M(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){z(e,r)}}}function dn(t,e,n){let r,s=[],l=0,o=15,i="pencil",a=-1,u=-1,_=[],g=-1,h=-1;me.subscribe(f=>{l=f}),ge.subscribe(f=>{o=f}),ne.subscribe(f=>{s=f,n(5,_=f)}),Ce.subscribe(f=>{i=f});const k=f=>{let w=Math.floor(f.offsetX/40),L=Math.floor(f.offsetY/40);ne.update(v=>{switch(i){case"pencil":v[L][w]=f.shiftKey?o:l;break;case"eraser":v[L][w]=-1;break;case"fill":let F=v[L][w],H=f.shiftKey?o:l;if(F==H)break;let x=[[w,L]];for(;x.length>0;){let[P,K]=x.shift();v[K][P]==F&&(v[K][P]=H,P>0&&x.push([P-1,K]),P<v[0].length-1&&x.push([P+1,K]),K>0&&x.push([P,K-1]),K<v.length-1&&x.push([P,K+1]))}break;case"eyedropper":f.shiftKey?ge.set(v[L][w]):me.set(v[L][w]);break}return v})},T=f=>{let w=Math.floor(f.offsetX/40),L=Math.floor(f.offsetY/40);if(!(w==a&&L==u)&&(a=w,u=L,f.buttons==1))switch(i){case"pencil":f.shiftKey?ne.update(b=>(b[L][w]=o,b)):ne.update(b=>(b[L][w]=l,b));break;case"eraser":ne.update(b=>(b[L][w]=-1,b));break;case"line":n(5,_=s.map(b=>b.slice()));let v=w-g,F=L-h,H=Math.max(Math.abs(v),Math.abs(F));for(let b=0;b<=H;b++){let ee=Math.round(g+v*b/H),E=Math.round(h+F*b/H);n(5,_[E][ee]=f.shiftKey?o:l,_)}break;case"rect":n(5,_=s.map(b=>b.slice()));let x=Math.min(w,g),P=Math.max(w,g),K=Math.min(L,h),U=Math.max(L,h);for(let b=x;b<=P;b++)n(5,_[K][b]=f.shiftKey?o:l,_),n(5,_[U][b]=f.shiftKey?o:l,_);for(let b=K;b<=U;b++)n(5,_[b][x]=f.shiftKey?o:l,_),n(5,_[b][P]=f.shiftKey?o:l,_);break;case"ellipse":n(5,_=s.map(b=>b.slice()));let oe=Math.floor((g+w)/2),Q=Math.floor((h+L)/2),W=Math.floor(Math.abs(g-w)/2),G=Math.floor(Math.abs(h-L)/2),Z=f.shiftKey?o:l;for(let b=.1;b<=2*Math.PI;b+=.1){let ee=Math.floor(oe+W*Math.cos(b)),E=Math.floor(Q+G*Math.sin(b));n(5,_[E][ee]=Z,_)}break}},D=f=>{let w=Math.floor(f.offsetX/40),L=Math.floor(f.offsetY/40);switch(i){case"line":case"rect":case"ellipse":g=w,h=L;break}},S=f=>{switch(Math.floor(f.offsetX/40),Math.floor(f.offsetY/40),i){case"line":case"rect":case"ellipse":ne.set(_);break}g=-1,h=-1};return t.$$.update=()=>{t.$$.dirty&32&&n(0,r=({context:f,width:w,height:L})=>{for(let v=0;v<_.length;v++)for(let F=0;F<_[0].length;F++){let H=_[v][F];H<0?(F%2==0&&v%2==0||F%2==1&&v%2==1?f.fillStyle="white":f.fillStyle="lightGray",f.fillRect(F*40,v*40,40,40)):(f.fillStyle=he[H],f.fillRect(F*40,v*40,40,40))}})},[r,k,T,D,S,_]}class hn extends j{constructor(e){super(),N(this,e,dn,fn,V,{})}}function mn(t){let e;return{c(){e=J("path"),d(e,"d","M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z")},m(n,r){O(n,e,r)},p:R,d(n){n&&q(e)}}}function gn(t){let e,n;const r=[{viewBox:"0 0 512 512"},t[0]];let s={$$slots:{default:[mn]},$$scope:{ctx:t}};for(let l=0;l<r.length;l+=1)s=A(s,r[l]);return e=new se({props:s}),{c(){I(e.$$.fragment)},m(l,o){B(e,l,o),n=!0},p(l,[o]){const i=o&1?re(r,[r[0],le(l[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(M(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function pn(t,e,n){return t.$$set=r=>{n(0,e=A(A({},e),Y(r)))},e=Y(e),[e]}class _n extends j{constructor(e){super(),N(this,e,pn,gn,V,{})}}function bn(t){let e;return{c(){e=J("path"),d(e,"d","M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z")},m(n,r){O(n,e,r)},p:R,d(n){n&&q(e)}}}function yn(t){let e,n;const r=[{viewBox:"0 0 512 512"},t[0]];let s={$$slots:{default:[bn]},$$scope:{ctx:t}};for(let l=0;l<r.length;l+=1)s=A(s,r[l]);return e=new se({props:s}),{c(){I(e.$$.fragment)},m(l,o){B(e,l,o),n=!0},p(l,[o]){const i=o&1?re(r,[r[0],le(l[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(M(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function wn(t,e,n){return t.$$set=r=>{n(0,e=A(A({},e),Y(r)))},e=Y(e),[e]}class vn extends j{constructor(e){super(),N(this,e,wn,yn,V,{})}}function $n(t){let e;return{c(){e=J("path"),d(e,"d","M502.63 217.06L294.94 9.37C288.69 3.12 280.5 0 272.31 0s-16.38 3.12-22.62 9.37l-81.58 81.58L81.93 4.77c-6.24-6.25-16.38-6.25-22.62 0L36.69 27.38c-6.24 6.25-6.24 16.38 0 22.63l86.19 86.18-94.76 94.76c-37.49 37.49-37.49 98.26 0 135.75l117.19 117.19c18.75 18.74 43.31 28.12 67.87 28.12 24.57 0 49.13-9.37 67.88-28.12l221.57-221.57c12.49-12.5 12.49-32.76 0-45.26zm-116.22 70.97H65.93c1.36-3.84 3.57-7.98 7.43-11.83l13.15-13.15 81.61-81.61 58.61 58.6c12.49 12.49 32.75 12.49 45.24 0 12.49-12.49 12.49-32.75 0-45.24l-58.61-58.6 58.95-58.95 162.45 162.44-48.35 48.34z")},m(n,r){O(n,e,r)},p:R,d(n){n&&q(e)}}}function kn(t){let e,n;const r=[{viewBox:"0 0 512 512"},t[0]];let s={$$slots:{default:[$n]},$$scope:{ctx:t}};for(let l=0;l<r.length;l+=1)s=A(s,r[l]);return e=new se({props:s}),{c(){I(e.$$.fragment)},m(l,o){B(e,l,o),n=!0},p(l,[o]){const i=o&1?re(r,[r[0],le(l[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(M(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function Mn(t,e,n){return t.$$set=r=>{n(0,e=A(A({},e),Y(r)))},e=Y(e),[e]}class Cn extends j{constructor(e){super(),N(this,e,Mn,kn,V,{})}}function Bn(t){let e;return{c(){e=J("path"),d(e,"d","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V86c0-3.3 2.7-6 6-6h340c3.3 0 6 2.7 6 6v340c0 3.3-2.7 6-6 6z")},m(n,r){O(n,e,r)},p:R,d(n){n&&q(e)}}}function zn(t){let e,n;const r=[{viewBox:"0 0 448 512"},t[0]];let s={$$slots:{default:[Bn]},$$scope:{ctx:t}};for(let l=0;l<r.length;l+=1)s=A(s,r[l]);return e=new se({props:s}),{c(){I(e.$$.fragment)},m(l,o){B(e,l,o),n=!0},p(l,[o]){const i=o&1?re(r,[r[0],le(l[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(M(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function Ln(t,e,n){return t.$$set=r=>{n(0,e=A(A({},e),Y(r)))},e=Y(e),[e]}class En extends j{constructor(e){super(),N(this,e,Ln,zn,V,{})}}function In(t){let e;return{c(){e=J("path"),d(e,"d","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200z")},m(n,r){O(n,e,r)},p:R,d(n){n&&q(e)}}}function An(t){let e,n;const r=[{viewBox:"0 0 512 512"},t[0]];let s={$$slots:{default:[In]},$$scope:{ctx:t}};for(let l=0;l<r.length;l+=1)s=A(s,r[l]);return e=new se({props:s}),{c(){I(e.$$.fragment)},m(l,o){B(e,l,o),n=!0},p(l,[o]){const i=o&1?re(r,[r[0],le(l[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(M(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function Sn(t,e,n){return t.$$set=r=>{n(0,e=A(A({},e),Y(r)))},e=Y(e),[e]}class Rn extends j{constructor(e){super(),N(this,e,Sn,An,V,{})}}function Tn(t){let e;return{c(){e=J("path"),d(e,"d","M50.75 333.25c-12 12-18.75 28.28-18.75 45.26V424L0 480l32 32 56-32h45.49c16.97 0 33.25-6.74 45.25-18.74l126.64-126.62-128-128L50.75 333.25zM483.88 28.12c-37.47-37.5-98.28-37.5-135.75 0l-77.09 77.09-13.1-13.1c-9.44-9.44-24.65-9.31-33.94 0l-40.97 40.97c-9.37 9.37-9.37 24.57 0 33.94l161.94 161.94c9.44 9.44 24.65 9.31 33.94 0L419.88 288c9.37-9.37 9.37-24.57 0-33.94l-13.1-13.1 77.09-77.09c37.51-37.48 37.51-98.26.01-135.75z")},m(n,r){O(n,e,r)},p:R,d(n){n&&q(e)}}}function Fn(t){let e,n;const r=[{viewBox:"0 0 512 512"},t[0]];let s={$$slots:{default:[Tn]},$$scope:{ctx:t}};for(let l=0;l<r.length;l+=1)s=A(s,r[l]);return e=new se({props:s}),{c(){I(e.$$.fragment)},m(l,o){B(e,l,o),n=!0},p(l,[o]){const i=o&1?re(r,[r[0],le(l[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(M(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function Pn(t,e,n){return t.$$set=r=>{n(0,e=A(A({},e),Y(r)))},e=Y(e),[e]}class qn extends j{constructor(e){super(),N(this,e,Pn,Fn,V,{})}}function Hn(t){let e;return{c(){e=J("path"),d(e,"d","M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z")},m(n,r){O(n,e,r)},p:R,d(n){n&&q(e)}}}function Kn(t){let e,n;const r=[{viewBox:"0 0 448 512"},t[0]];let s={$$slots:{default:[Hn]},$$scope:{ctx:t}};for(let l=0;l<r.length;l+=1)s=A(s,r[l]);return e=new se({props:s}),{c(){I(e.$$.fragment)},m(l,o){B(e,l,o),n=!0},p(l,[o]){const i=o&1?re(r,[r[0],le(l[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){n||(M(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function On(t,e,n){return t.$$set=r=>{n(0,e=A(A({},e),Y(r)))},e=Y(e),[e]}class Vn extends j{constructor(e){super(),N(this,e,On,Kn,V,{})}}function Nn(t){let e,n,r,s,l,o,i,a,u,_,g,h,k,T,D,S,f,w,L,v,F,H,x,P,K,U,oe,Q,W,G,Z,b,ee;return s=new _n({}),a=new vn({}),h=new Cn({}),w=new En({}),H=new Rn({}),U=new qn({}),G=new Vn({}),{c(){e=$("div"),n=$("button"),r=$("div"),I(s.$$.fragment),l=X(),o=$("button"),i=$("div"),I(a.$$.fragment),u=X(),_=$("button"),g=$("div"),I(h.$$.fragment),k=X(),T=$("button"),T.textContent="⟋",D=X(),S=$("button"),f=$("div"),I(w.$$.fragment),L=X(),v=$("button"),F=$("div"),I(H.$$.fragment),x=X(),P=$("button"),K=$("div"),I(U.$$.fragment),oe=X(),Q=$("button"),W=$("div"),I(G.$$.fragment),d(r,"class","buttonIcon svelte-b6498s"),d(n,"id","pencil"),d(n,"class","toolButton active svelte-b6498s"),d(i,"class","buttonIcon svelte-b6498s"),d(o,"id","eraser"),d(o,"class","toolButton svelte-b6498s"),d(g,"class","buttonIcon svelte-b6498s"),d(_,"id","fill"),d(_,"class","toolButton svelte-b6498s"),d(T,"id","line"),d(T,"class","toolButton svelte-b6498s"),d(f,"class","buttonIcon svelte-b6498s"),d(S,"id","rect"),d(S,"class","toolButton svelte-b6498s"),d(F,"class","buttonIcon svelte-b6498s"),d(v,"id","ellipse"),d(v,"class","toolButton svelte-b6498s"),d(K,"class","buttonIcon svelte-b6498s"),d(P,"id","eyedropper"),d(P,"class","toolButton svelte-b6498s"),d(W,"class","buttonIcon svelte-b6498s"),d(Q,"id","clear"),d(Q,"class","toolButton svelte-b6498s"),d(e,"id","toolPicker"),d(e,"class","svelte-b6498s")},m(E,ve){O(E,e,ve),y(e,n),y(n,r),B(s,r,null),y(e,l),y(e,o),y(o,i),B(a,i,null),y(e,u),y(e,_),y(_,g),B(h,g,null),y(e,k),y(e,T),y(e,D),y(e,S),y(S,f),B(w,f,null),y(e,L),y(e,v),y(v,F),B(H,F,null),y(e,x),y(e,P),y(P,K),B(U,K,null),y(e,oe),y(e,Q),y(Q,W),B(G,W,null),Z=!0,b||(ee=[m(n,"click",t[1]),m(o,"click",t[1]),m(_,"click",t[1]),m(T,"click",t[1]),m(S,"click",t[1]),m(v,"click",t[1]),m(P,"click",t[1]),Bt(t[0].call(null,e))],b=!0)},p:R,i(E){Z||(M(s.$$.fragment,E),M(a.$$.fragment,E),M(h.$$.fragment,E),M(w.$$.fragment,E),M(H.$$.fragment,E),M(U.$$.fragment,E),M(G.$$.fragment,E),Z=!0)},o(E){C(s.$$.fragment,E),C(a.$$.fragment,E),C(h.$$.fragment,E),C(w.$$.fragment,E),C(H.$$.fragment,E),C(U.$$.fragment,E),C(G.$$.fragment,E),Z=!1},d(E){E&&q(e),z(s),z(a),z(h),z(w),z(H),z(U),z(G),b=!1,ue(ee)}}}const jn=1e3;function Xn(t){let e=!1,n=null;const r=o=>{Ce.subscribe(a=>{document.getElementById("toolPicker").querySelectorAll(".active").forEach(u=>{u.classList.remove("active")}),document.getElementById(a).classList.add("active")});const i=document.getElementById("clear");i.onmousedown=()=>{e=!0,n=setTimeout(()=>{e&&(l(),e=!1)},jn)},i.onmouseup=()=>{e=!1,clearTimeout(n)}},s=o=>{let i=o.target;for(;i.tagName!=="BUTTON";)i=i.parentElement;Ce.set(i.id)},l=o=>{ne.set(Array.from({length:16},()=>Array.from({length:16},()=>-1)))};return[r,s]}class Yn extends j{constructor(e){super(),N(this,e,Xn,Nn,V,{})}}function Dn(t){let e,n,r,s,l,o,i,a,u,_,g,h,k,T,D,S;return r=new jt({}),i=new hn({}),u=new an({}),k=new Yn({}),D=new Wt({}),{c(){e=$("main"),n=$("div"),I(r.$$.fragment),s=X(),l=$("br"),o=X(),I(i.$$.fragment),a=X(),I(u.$$.fragment),_=X(),g=$("br"),h=X(),I(k.$$.fragment),T=X(),I(D.$$.fragment),d(n,"id","mainView"),d(e,"class","svelte-1mgv8eg")},m(f,w){O(f,e,w),y(e,n),B(r,n,null),y(n,s),y(n,l),y(n,o),B(i,n,null),y(n,a),B(u,n,null),y(n,_),y(n,g),y(n,h),B(k,n,null),y(e,T),B(D,e,null),S=!0},p:R,i(f){S||(M(r.$$.fragment,f),M(i.$$.fragment,f),M(u.$$.fragment,f),M(k.$$.fragment,f),M(D.$$.fragment,f),S=!0)},o(f){C(r.$$.fragment,f),C(i.$$.fragment,f),C(u.$$.fragment,f),C(k.$$.fragment,f),C(D.$$.fragment,f),S=!1},d(f){f&&q(e),z(r),z(i),z(u),z(k),z(D)}}}class xn extends j{constructor(e){super(),N(this,e,null,Dn,V,{})}}new xn({target:document.getElementById("app")});
